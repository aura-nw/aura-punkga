import { useTranslation } from 'react-i18next'
import { toast } from 'react-toastify'

export default function Copy2Clipboard({ text, children }: { text: string; children?: React.ReactNode }) {
  const { t } = useTranslation()
  return (
    <span
      className='inline-block'
      onClick={() => {
        navigator.clipboard.writeText(text)
        toast(t('Copied to clipboard'), {
          type: 'info',
        })
      }}>
      {children || (
        <svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 18 18' fill='none'>
          <path
            d='M8.98537 5.24688V7.27188C8.98537 7.64467 9.28758 7.94688 9.66037 7.94688H11.6854M13.0354 2.54688H8.31021C7.56463 2.54688 6.96021 3.15129 6.96021 3.89687V5.24688M13.0354 2.54688H13.4119C13.602 2.54688 13.783 2.62694 13.9139 2.76472C14.1107 2.97178 14.4225 3.29058 14.7229 3.55938C14.9583 3.77004 15.3282 4.14811 15.5497 4.37789C15.6695 4.50215 15.7354 4.66806 15.7354 4.84066L15.7354 5.24688M13.0354 2.54688V4.57188C13.0354 4.94467 13.3376 5.24688 13.7104 5.24688H15.7354M15.7354 5.24688L15.7352 11.9969C15.7352 12.7425 15.1308 13.3469 14.3852 13.3469H11.6852M10.6729 6.25938C10.3725 5.99058 10.0607 5.67178 9.86391 5.46472C9.73295 5.32694 9.55201 5.24688 9.36192 5.24688H4.26021C3.51463 5.24688 2.91021 5.85129 2.91021 6.59687L2.91016 14.6968C2.91015 15.4424 3.51457 16.0468 4.26015 16.0469L10.3352 16.0469C11.0808 16.0469 11.6852 15.4425 11.6852 14.6969L11.6854 7.54066C11.6854 7.36806 11.6195 7.20215 11.4997 7.07789C11.2782 6.84812 10.9083 6.47004 10.6729 6.25938Z'
            stroke='#222222'
            strokeWidth='1.5'
            strokeLinecap='round'
            strokeLinejoin='round'
          />
        </svg>
      )}
    </span>
  )
}
